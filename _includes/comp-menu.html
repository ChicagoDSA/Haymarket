<div id="menu">
	<div id="menu-icon" tabindex="0" onfocus="showMenu()">
		<i class="fas fa-bars"></i>
		<p>{{ site.data.nav.menu.[page.lang] | markdownify | remove: "<p>" | remove: "</p>" | strip_newlines }}</p>
	</div>
	<div id="menu-content">
		{% for group in site.data.nav.elements %}
			<div class="nav-group">
				<h4>{{ group.[page.lang] | markdownify | remove: "<p>" | remove: "</p>" | strip_newlines }}</h4>
				<ul>
					{% for item in group.items %}
						<li><a href="{{ item.page.url.[page.lang] | default: item.page.url | relative_url }}">{{ item.page.[page.lang] | default: item.page.en | markdownify | remove: "<p>" | remove: "</p>" | strip_newlines }}</a></li>
					{% endfor %}
				</ul>
			</div>
		{% endfor %}
	</div>
</div>

<script>
	var mouseOver = false;
	var menuContent = document.getElementById("menu-content");
	var nameLink = document.getElementById("name-link");

	function showMenu() {
  		menuContent.classList.add("visible-menu");
	};

	function hideMenu() {
  		menuContent.classList.remove("visible-menu");
	};

	// Set mouseover flags
	menuContent.onmouseover = function () {
		mouseOver = true;
	};
	menuContent.onmouseout = function () {
		mouseOver = false;
	};

	// When the mouse moves
	window.onmousemove = function () {
		// If it's outside the visible menu
		if (menuContent.classList.contains("visible-menu") && mouseOver == false) {
			// Hide the menu
			menuContent.classList.remove("visible-menu");
		}
	};
</script>
